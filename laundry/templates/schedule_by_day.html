<!-- reservations/templates/reservations/schedule_with_datepicker.html -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<form method="post" id="dateForm">
    {% csrf_token %}
    {{ form.as_p }}
    <input type="hidden" id="selectedDate" name="date" value="{{ selected_date }}">
    <button type="submit">Pokaż rezerwacje</button>
</form>

<h2>Rezerwacje na {{ selected_date }}</h2>
<table border="1" id="scheduleTable">
    <!-- ... kod tabeli ... -->
</table>

{% for day in days_of_week %}
    <a href="{% url 'main:show_schedule_by_day' day %}">Pokaż rezerwacje na {{ day|title }}</a>
{% endfor %}

<script>
    $(document).ready(function () {
        // Obsługa zmiany daty w kalendarzu
        $('.datepicker').datepicker({
            format: 'yyyy-mm-dd',
            todayHighlight: true,
            autoclose: true
        }).on('changeDate', function (e) {
            // Zaktualizuj ukryte pole z datą i wyślij formularz
            $('#selectedDate').val(e.format());
            $('#dateForm').submit();
        });
    });
</script>

